<!DOCTYPE html>
<html>
<head>
  <title>내 맛집 웹사이트</title>
  <style>
    #map { height: 400px; width: 100%; }
  </style>
</head>
<body>
  <h1>내 맛집 추천</h1>
  <div id="map"></div>

  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB2cf3YWzGrwU9WXlKGVVLFi73cnZ99Cd0&callback=initMap" async defer></script>
  <script>
    function initMap() {
      const center = { lat: 37.5665, lng: 126.9780 }; // 서울 중심
      const map = new google.maps.Map(document.getElementById("map"), {
        zoom: 12,
        center: center,
      });

      // 맛집 리스트 (예시 데이터)
      const restaurants = [
        { name: "맛집 A", lat: 37.5665, lng: 126.9780, revisitIntent: 90, revisitRate: 75 },
        { name: "맛집 B", lat: 37.555, lng: 126.975, revisitIntent: 85, revisitRate: 60 },
      ];

      // 마커 추가
      restaurants.forEach(restaurant => {
        const marker = new google.maps.Marker({
          position: { lat: restaurant.lat, lng: restaurant.lng },
          map: map,
          title: restaurant.name,
        });
        // 클릭 시 정보창
        const infoWindow = new google.maps.InfoWindow({
          content: `<b>${restaurant.name}</b><br>재방문의사: ${restaurant.revisitIntent}%<br>재방문율: ${restaurant.revisitRate}%`,
        });
        marker.addListener("click", () => infoWindow.open(map, marker));
      });
    }
  </script>
</body>
</html>